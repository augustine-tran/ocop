<%
  case level
  when 0
    padding = 'px-4'
    bolding = 'font-bold'
  when 1
    padding = 'px-8'
    bolding = 'font-semibold'
  when 2
    padding = 'px-16'
    bolding = 'font-normal'
  end
%>
<tr>
  <td class="border <%= padding %> py-2 <%= bolding %>"><%= score.title %></td>
  <td class="border px-4 py-2 text-center"><%= score.score %></td>
  <% if level == 2 %>
    <td class="border px-4 py-2"><%= link_to "Edit", edit_submission_score_path(@submission, score.id), class: "rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium hover:underline hover:bg-blue-300 " %></td>
  <% else %>
    <td class="border px-4 py-2"></td>
  <% end %>
</tr>
<% if level == 2 %>
  <% score.criterium.children.each do |criterion| %>
    <%= form_with model: [@submission, score], local: true do |form| %>
      <tr>
        <td class="border px-24 py-2 <%= 'text-green-400' if score.criterion_id == criterion.id %>">(<%= criterion.score %> điểm) <%= criterion.title %></td>
        <td class="border px-4 py-2 text-center">
          <p class="<%= 'hidden' if score.criterion_id == criterion.id %>">
            <%= form.hidden_field :criterion_id, value: criterion.id %>
            <%= form.submit t(:select), class: "rounded-lg py-3 px-5 text-blue-600 hover:text-blue-800 hover:underline font-medium cursor-pointer" %>
          </p>
        </td>
        <td class="border px-4 py-2"></td>
      </tr>
    <% end %>
  <% end %>
<% end %>
